{"version":3,"sources":["index.ts"],"names":[],"mappings":";AA0GC,aA1GD,IAAK,GAAL,SAAK,GACH,EAAA,EAAA,iBAAA,GAAA,mBADF,CAAK,IAAA,EAAgB,KAkBrB,IAAM,EAAqB,CACzB,OAAQ,EAAiB,kBAK3B,SAAS,IAkFR,IAAA,EA/EoB,QAAnB,EAF4B,SAAS,eAAe,4BAEjC,IAAA,GAAA,EAAE,iBAAiB,QAAS,GAGjD,SAAS,IACD,IAAA,EAAQ,IAEd,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,MAAO,EAAM,IAAI,YACxC,EAAuB,YAAa,EAAM,cAAc,YAG1D,SAAS,IACD,IAAA,EAAW,CACf,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,cAAe,GAKV,OAFP,EAAS,cAAgB,EAAuB,GAEzC,EAGT,SAAS,IACC,OAAA,EAAS,QACV,KAAA,EAAiB,iBACb,OAAA,IAGT,QACS,OAAA,GAIb,SAAS,IACD,IAAA,EAAW,CAAC,EAAQ,GAAI,EAAQ,GAAI,EAAQ,GAAI,EAAQ,IAExD,EAAa,KAAK,IAAG,MAAR,KAAY,GAIxB,OAFY,EAAS,OAAO,SAAC,EAAK,GAAS,OAAA,EAAM,GAAM,GAAK,EAKrE,SAAS,EAAQ,GACR,OAAA,KAAK,KAAK,KAAK,SAAW,GAGnC,SAAS,EAAuB,GAE5B,OAAA,EAAkB,EAAM,KACxB,EAAkB,EAAM,KACxB,EAAkB,EAAM,KACxB,EAAkB,EAAM,KACxB,EAAkB,EAAM,KACxB,EAAkB,EAAM,KAI5B,SAAS,EAAkB,GAClB,OAAA,KAAK,MAAM,EAAO,EAAI,GAG/B,SAAS,EAAuB,EAAoB,GAC5C,IAAA,EAAU,SAAS,eAAe,GAEnC,IAIL,EAAQ,UAAY,GAnFtB","file":"src.225e8da6.js","sourceRoot":"../src","sourcesContent":["enum GeneratingMethod {\r\n  FourD6DropLowest\r\n}\r\n\r\ntype Stats = {\r\n  str: number;\r\n  dex: number;\r\n  con: number;\r\n  int: number;\r\n  wis: number;\r\n  cha: number;\r\n  totalModifier: number;\r\n};\r\n\r\ntype Settings = {\r\n  method: GeneratingMethod;\r\n};\r\n\r\nconst settings: Settings = {\r\n  method: GeneratingMethod.FourD6DropLowest\r\n};\r\n\r\nregisterEventHandlers();\r\n\r\nfunction registerEventHandlers() {\r\n  const generateStatsButton = document.getElementById(\"give_stats_button\");\r\n\r\n  generateStatsButton?.addEventListener(\"click\", giveStatsButtonHandler);\r\n}\r\n\r\nfunction giveStatsButtonHandler() {\r\n  const stats = getNewStats();\r\n\r\n  updateElementWithValue(\"str\", stats.str.toString());\r\n  updateElementWithValue(\"dex\", stats.dex.toString());\r\n  updateElementWithValue(\"con\", stats.con.toString());\r\n  updateElementWithValue(\"int\", stats.int.toString());\r\n  updateElementWithValue(\"wis\", stats.wis.toString());\r\n  updateElementWithValue(\"cha\", stats.cha.toString());\r\n  updateElementWithValue(\"total_mod\", stats.totalModifier.toString());\r\n}\r\n\r\nfunction getNewStats(): Stats {\r\n  const newStats = {\r\n    str: generateStat(),\r\n    dex: generateStat(),\r\n    con: generateStat(),\r\n    int: generateStat(),\r\n    wis: generateStat(),\r\n    cha: generateStat(),\r\n    totalModifier: 0\r\n  };\r\n\r\n  newStats.totalModifier = calculateTotalModifier(newStats);\r\n\r\n  return newStats;\r\n}\r\n\r\nfunction generateStat(): number {\r\n  switch (settings.method) {\r\n    case GeneratingMethod.FourD6DropLowest: {\r\n      return fourD6DropLowest();\r\n    }\r\n\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\n\r\nfunction fourD6DropLowest(): number {\r\n  const dieRolls = [rollDie(6), rollDie(6), rollDie(6), rollDie(6)];\r\n\r\n  const lowestRoll = Math.min(...dieRolls);\r\n\r\n  const sumOfRolls = dieRolls.reduce((sum, roll) => sum + roll, 0) - lowestRoll;\r\n\r\n  return sumOfRolls;\r\n}\r\n\r\nfunction rollDie(size: number): number {\r\n  return Math.ceil(Math.random() * size);\r\n}\r\n\r\nfunction calculateTotalModifier(stats: Stats): number {\r\n  return (\r\n    calculateModifier(stats.str) +\r\n    calculateModifier(stats.dex) +\r\n    calculateModifier(stats.con) +\r\n    calculateModifier(stats.int) +\r\n    calculateModifier(stats.wis) +\r\n    calculateModifier(stats.cha)\r\n  );\r\n}\r\n\r\nfunction calculateModifier(stat: number): number {\r\n  return Math.floor(stat / 2 - 5);\r\n}\r\n\r\nfunction updateElementWithValue(identifier: string, value: string) {\r\n  const element = document.getElementById(identifier);\r\n\r\n  if (!element) {\r\n    return;\r\n  }\r\n\r\n  element.innerText = value;\r\n}\r\n"]}